<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>엔돌스타</title>
  <link rel="shortcut icon" href="../../resources/images/common/favicon.ico">
  <!-- css library -->
  <link rel="stylesheet" href="../../resources/css/lib/tui-grid.min.css"> <!-- grid table -->
  <link rel="stylesheet" href="../../resources/css/lib/tui-pagination.min.css"> <!-- grid table -->
  <link rel="stylesheet" href="../../resources/css/lib/tui-date-picker.min.css">
  <!-- css base -->
  <link rel="stylesheet" href="../../resources/css/base.css">
</head>
<body data-route="main"> <!-- [Exclude attr] "data-route" only UI Template -->
  <!-- base-wrap -->
  <div class="base-wrap maketing">
    <!-- include -->
    <header class="base-header"></header>
    <aside class="base-aside"></aside>
    <!-- //include -->

    <!-- base-content -->
    <main class="base-content">
      <h1 class="content-title">마케팅관리 > 푸시 관리</h1>
      <div class="content-inner">
        <div class="form-searchbox">
          <dl class="dl-formbox">
            <dt>기간</dt>
            <dd>
              <select id="select-date" class="inp-select is-sm">
                <option value="" selected>등록일</option>
                <option value="">최종수정일</option>
              </select>
            
              <div class="area-datepicker">
                <!-- DatePicker -->
                <div class="wrap-datepicker">
                  <div class="datePicker">
                    <div class="tui-datepicker-input tui-datetime-input tui-has-focus">
                      <input id="startpicker-inp1" type="text" aria-label="Date-Time">
                      <div id="startpicker-div1" class="datepicker-div"></div>
                    </div>
                  </div>
                  <span class="datepicker-to">~</span>
                  <div class="datePicker">
                    <div class="tui-datepicker-input tui-datetime-input tui-has-focus">
                      <input id="endpicker-inp1" type="text" aria-label="Date-Time">
                      <div id="endpicker-div1" class="datepicker-div"></div>
                    </div>
                  </div>
                </div>
                <!-- //DatePicker -->
                <div class="btn-options">
                  <button type="button" class="btn is-secondary-1 is-active">전체</button>
                  <button type="button" class="btn is-secondary-1">오늘</button>
                  <button type="button" class="btn is-secondary-1">1주일</button>
                  <button type="button" class="btn is-secondary-1">1개월</button>
                  <button type="button" class="btn is-secondary-1">3개월</button>
                  <button type="button" class="btn is-secondary-1">6개월</button>
                </div>
              </div>
            </dd>
          </dl>
          <dl class="dl-formbox">
            <dt>검색어</dt>
            <dd>
              <div class="searchbox-item">
                <select id="select-search" class="inp-select is-sm">
                  <option value="" selected>제목</option>
                  <option value="">등록자</option>
                  <option value="">최종수정자</option>
                </select>
            
                <input type="search" id="inp-search" class="inp-base" placeholder="">
              </div>
            </dd>
          </dl>
          <dl class="dl-formbox">
            <dt>알림종류</dt>
            <dd>
              <select id="select1" class="inp-select">
                <option value="" selected>전체</option>
                <option value="">공지</option>
                <option value="">광고</option>
              </select>
            </dd>
            <dt>발송종류</dt>
            <dd>
              <select id="select2" class="inp-select">
                <option value="" selected>전체</option>
                <option value="">즉시발송</option>
                <option value="">예약발송</option>
              </select>
            </dd>
          </dl>
          <dl class="dl-formbox">
            <dt>발송결과</dt>
            <dd>
              <select id="select3" class="inp-select">
                <option value="" selected>전체</option>
                <option value="">등록완료</option>
                <option value="">발송완료</option>
              </select>
            </dd>
            <dt>대상자</dt>
            <dd>
              <select id="select2" class="inp-select">
                <option value="" selected>전체</option>
                <option value="">일반회원</option>
                <option value="">소셜회원</option>
                <option value="">타겟</option>
                <option value="">파일등록</option>
              </select>
            </dd>
          </dl>
          <dl class="dl-formbox inbtn">
            <dt>디바이스</dt>
            <dd>
              <div class="form-radio">
                <label><input type="radio" name="appType" class="inp-radio" checked>전체</label>
                <label><input type="radio" name="appType" class="inp-radio">AOS</label>
                <label><input type="radio" name="appType" class="inp-radio">IOS</label>
              </div>
            </dd>
            <dd class="searchbox-btn">
              <button type="button" class="btn is-reset"><span class="ico-reset">초기화</span></button>
              <button type="submit" class="btn is-search">검색</button>
            </dd>
          </dl>
        </div>

        <div class="box-form">
          <div class="wrap-tbl">
            <div class="tbl-head">
              <select class="inp-select">
                <option value="" selected="">10개씩 보기</option>
                <option value="">30개씩 보기</option>
                <option value="">50개씩 보기</option>
                <option value="">100개씩 보기</option>
              </select>
              <button type="button" class="btn is-ico is-excel"><span class="ico-excel">양식 다운로드</span></button>
            </div>

            <div class="wrap-tbl">
              <div class="scroll-content">
                <table class="tbl-base has-scrollbar">
                  <colgroup>
                    <col style="width: 5.6rem;">
                    <col style="width: 10rem;">
                    <col style="width: 10rem;">
                    <col style="width: 10rem;">
                    <col style="width: 10rem;">
                    <col style="width: 10rem;">
                    <col style="width: 10rem;">
                    <col style="width: 10rem;">
                    <col style="width: 10rem;">
                    <col style="width: 10rem;">
                    <col style="width: 10rem;">
                    <col style="width: 14rem;">
                    <col style="width: 10rem;">
                    <col style="width: 14rem;">
                    <col style="width: 10rem;">
                    <col style="width: 12rem;">
                  </colgroup>
                  <thead>
                    <tr>
                      <th>NO.</th>
                      <th>대상자</th>
                      <th>알림종류</th>
                      <th>제목</th>
                      <th>디바이스</th>
                      <th>발송종류</th>
                      <th>발송일</th>
                      <th>발송결과</th>
                      <th>대상</th>
                      <th>발송</th>
                      <th>성공</th>
                      <th>등록일</th>
                      <th>등록자</th>
                      <th>최종수정일</th>
                      <th>최종수정자</th>
                      <th>관리</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>1</td>
                      <td>모든회원</td>
                      <td>%알림종류%</td>
                      <td>%제목%</td>
                      <td>전체</td>
                      <td>즉시발송</td>
                      <td>%제목%</td>
                      <td>등록완료</td>
                      <td>%발송회원수%</td>
                      <td>%발송수%</td>
                      <td>%푸시클릭수%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>
                        <div class="btn-group">
                          <button type="button" class="btn is-outline-2 is-h26" data-url="#Bo_MkPu_001_P3" data-modal="open">수정</button>
                          <button type="button" class="btn is-secondary-1 is-h26" onclick="customAlert.confirm('안내', '삭제 하시겠어요?', trueFn, falseFn);">삭제</button>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>2</td>
                      <td>타겟</td>
                      <td>공지</td>
                      <td>%제목%</td>
                      <td>AOS</td>
                      <td>예약발송</td>
                      <td>%제목%</td>
                      <td>등록완료</td>
                      <td>%발송회원수%</td>
                      <td>%발송수%</td>
                      <td>%푸시클릭수%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>
                        <div class="btn-group">
                          <button type="button" class="btn is-outline-2 is-h26" data-url="#Bo_MkPu_001_P3" data-modal="open">수정</button>
                          <button type="button" class="btn is-secondary-1 is-h26" onclick="customAlert.confirm('안내', '삭제 하시겠어요?', trueFn, falseFn);">삭제</button>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>3</td>
                      <td>모든회원</td>
                      <td>광고</td>
                      <td>%제목%</td>
                      <td>AOS</td>
                      <td>예약발송</td>
                      <td>%제목%</td>
                      <td>등록완료</td>
                      <td>%발송회원수%</td>
                      <td>%발송수%</td>
                      <td>%푸시클릭수%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>
                        <div class="btn-group">
                          <button type="button" class="btn is-outline-2 is-h26" data-url="#Bo_MkPu_001_P3" data-modal="open">수정</button>
                          <button type="button" class="btn is-secondary-1 is-h26" onclick="customAlert.confirm('안내', '삭제 하시겠어요?', trueFn, falseFn);">삭제</button>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>4</td>
                      <td>타겟</td>
                      <td>공지</td>
                      <td>%제목%</td>
                      <td>IOS</td>
                      <td>즉시발송</td>
                      <td>%제목%</td>
                      <td>등록완료</td>
                      <td>%발송회원수%</td>
                      <td>%발송수%</td>
                      <td>%푸시클릭수%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>
                        <div class="btn-group">
                          <button type="button" data-url="#preview" data-modal="open" class="btn is-outline-2 is-h26">수정</button>
                          <button type="button" data-url="#preview" data-modal="open" class="btn is-secondary-1 is-h26" onclick="customAlert.confirm('안내', '삭제 하시겠어요?', trueFn, falseFn);">삭제</button>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>5</td>
                      <td>모든회원</td>
                      <td>광고</td>
                      <td>%제목%</td>
                      <td>전체</td>
                      <td>즉시발송</td>
                      <td>%제목%</td>
                      <td>등록완료</td>
                      <td>%발송회원수%</td>
                      <td>%발송수%</td>
                      <td>%푸시클릭수%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>YYYY-MM-DD HH:MM</td>
                      <td>%이름%</td>
                      <td>
                        <div class="btn-group">
                          <button type="button" data-url="#Bo_MkPu_001_P2" data-modal="open" class="btn is-grays-1 is-h26">상세</button>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="wrap-pagination">
              <div class="wrap-count">
                <span class="count-text">총 <em class="count-number">115</em>건</span>
              </div>
              <div class="pagination">
                <a href="#" class="pagination-link is-first"><span class="hidden">첫 페이지로 이동</span></a>
                <a href="#" class="pagination-link is-prev"><span class="hidden">이전 페이지로 이동</span></a>
                <a href="#" class="pagination-link is-current">1</a> <!-- 현재 페이지 -->
                <a href="#" class="pagination-link">2</a>
                <a href="#" class="pagination-link">3</a>
                <a href="#" class="pagination-link">4</a>
                <a href="#" class="pagination-link">5</a>
                <a href="#" class="pagination-link">6</a>
                <a href="#" class="pagination-link">7</a>
                <a href="#" class="pagination-link">8</a>
                <a href="#" class="pagination-link">9</a>
                <a href="#" class="pagination-link">10</a>
                <a href="#" class="pagination-link is-next"><span class="hidden">다음 페이지 이동</span></a>
                <a href="#" class="pagination-link is-last"><span class="hidden">마지막 페이지로 이동</span></a>
              </div>
              <button type="button" class="btn is-outline-3 is-h26" data-url="#Bo_MkPu_001_P1" data-modal="open">신규등록</button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <!-- //base-content -->

    <!-- modal -->
    <!-- 푸시 등록 -->
    <div id="Bo_MkPu_001_P1" class="modal push-modal" data-modal="target">
      <div class="modal-dimmed"></div>
      <div class="modal-inner" style="width: 654px;">
        <div class="modal-header">
          <button class="modal-close" data-modal="close"><span class="hidden">닫기</span></button>
          <strong class="modal-title">푸시 등록</strong>
        </div>
        <div class="modal-content has-scrollbar">
          <div class="area-scroll">
            <div class="scroll-content">
              <div class="tbl-dl">
                <dl>
                  <dt>발송 종류<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="wrap-formbox">
                      <div class="form-radio">
                        <label><input type="radio" name="sendType" class="inp-radio" value="immediate" checked>즉시발송</label>
                        <label><input type="radio" name="sendType" class="inp-radio" value="scheduled">예약발송</label>
                      </div>
                      <div class="area-datepicker">
                        <!-- DatePicker -->
                        <div class="wrap-datepicker">
                          <div class="datePicker">
                            <div class="tui-datepicker-input tui-datetime-input tui-has-focus">
                              <input id="startpicker-inp2" type="text" aria-label="Date-Time">
                              <div id="startpicker-div2" class="datepicker-div"></div>
                            </div>
                          </div>
                        </div>
                        <div class="wrap-datepicker is-timepicker">
                          <select class="inp-select is-sm">
                            <option value="">시</option>
                          </select>
                          <select class="inp-select is-sm">
                            <option value="">분</option>
                          </select>
                        </div>
                        <!-- //DatePicker -->
                      </div>
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt>알림 종류<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="form-radio">
                      <label><input type="radio" name="notificationType" class="inp-radio" value="공지" checked>공지</label>
                      <label><input type="radio" name="notificationType" class="inp-radio" value="광고(마케팅)">광고(마케팅)</label>
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt><label for="inpMemo" class="lb-inp">관리자 메모</label></dt>
                  <dd><input type="text" id="inpMemo" class="inp-base" placeholder="관리자 메모"></dd>
                </dl>
                <dl>
                  <dt>디바이스<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="form-radio">
                      <label><input type="radio" name="deviceType" class="inp-radio" checked>전체</label>
                      <label><input type="radio" name="deviceType" class="inp-radio">AOS</label>
                      <label><input type="radio" name="deviceType" class="inp-radio">IOS</label>
                    </div>
                  </dd>
                </dl>
                <dl class="align-start">
                  <dt>대상자<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="form-radio">
                      <label><input type="radio" name="targetType" class="inp-radio" value="all" checked>회원전체</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="general">일반회원</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="social">소셜회원</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="target">특정타겟</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="file">파일등록</label>
                    </div>
                    <!-- CASE: 특정타겟 선택시 노출 -->
                    <div class="form-checkbox form-case" style="display: none;">
                      <label><input type="checkbox" class="inp-checkbox">10대</label>
                      <label><input type="checkbox" class="inp-checkbox">20대</label>
                      <label><input type="checkbox" class="inp-checkbox">30대</label>
                      <label><input type="checkbox" class="inp-checkbox">40대</label>
                      <label><input type="checkbox" class="inp-checkbox">50대</label>
                      <label><input type="checkbox" class="inp-checkbox">60대 이상</label>
                    </div>
                    <!-- CASE: 파일등록 선택시 노출 -->
                    <div class="form-file form-case" style="display: none;">
                      <input type="text" id="inpFileUpload" class="inp-base inp-fileupload" placeholder="엑셀양식 업로드" readonly>
                      <button type="button" class="btn btn-fileupload" id="btnFileUpload">파일 등록</button>
                      <input type="file" id="fileInput" class="hidden" accept=".xls,.xlsx">
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt><label for="inpSubject" class="lb-inp">제목<em class="text-red-1">*</em></label></dt>
                  <dd><input type="text" id="inpSubject" class="inp-base" placeholder="제목"></dd>
                </dl>
                <dl class="align-start">
                  <dt>이미지<em class="text-red-1">*</em></dt>
                  <dd>
                    <p class="img-text">
                      권장크기 : 000PX X 000PX<br>
                      00MB 이하의 JPG, JPEG, PNG, 형식의 이미지만 등록이 가능합니다.
                    </p>
                    <div class="upload-thumb">
                      <button id="registerPhotoBtn" class="btn-upload">
                        <span class="ico-add">+</span>
                        <span class="length-txt"><em class="current">1</em>/1</span>
                      </button>
                      <div id="thumbnailContainer" class="thumbnail-container"></div>
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt><label for="inpMessage" class="lb-inp">메시지<em class="text-red-1">*</em></label></dt>
                  <dd>
                    <!-- 공지 메시지 필드 -->
                    <div class="message-notice" id="noticeMessageField">
                      <input type="text" id="noticeMessage" class="inp-base" placeholder="메시지">
                    </div>
                    
                    <!-- 광고(마케팅) 메시지 필드 -->
                    <div class="message-ad" id="adMessageField" style="display: none;">
                      <input type="text" id="adMessage" class="inp-base inp-ad" placeholder="(광고)메시지">
                    </div>
                  </dd>
                </dl>
                
                <dl>
                  <dt><label for="inpUrl" class="lb-inp">알림 연결 URL<em class="text-red-1">*</em></label></dt>
                  <dd>
                    <div class="wrap-formbox">
                      <select id="select1" class="inp-select">
                        <option value="" selected>내부</option>
                        <option value="">기타</option>
                      </select>
                      <input type="text" id="inpUrl" class="inp-base" placeholder="URL 또는 코드를 입력해주세요.">
                    </div>
                  </dd>
                </dl>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn is-secondary-1 is-footer">닫기</button>
          <button type="button" class="btn is-primary is-footer">등록</button>
          <button type="button" id="btnTestSend" class="btn is-grays-1 is-footer" disabled onclick="customAlert.confirm('안내', '입력하신 내용으로 테스트 발송 하시겠습니까?', trueFn, falseFn);">테스트 발송</button>
        </div>
      </div>
    </div>

    <!-- 푸시 상세 -->
    <div id="Bo_MkPu_001_P2" class="modal push-modal is-push-detail" data-modal="target">
      <div class="modal-dimmed"></div>
      <div class="modal-inner" style="width: 654px;">
        <div class="modal-header">
          <button class="modal-close" data-modal="close"><span class="hidden">닫기</span></button>
          <strong class="modal-title">푸시 상세</strong>
        </div>
        <div class="modal-content has-scrollbar">
          <div class="area-scroll">
            <div class="scroll-content">
              <div class="tbl-dl">
                <dl>
                  <dt>발송 종류<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="wrap-formbox">
                      <div class="form-radio">
                        <label><input type="radio" name="sendType2" class="inp-radio" value="immediate" checked disabled>즉시발송</label>
                        <label><input type="radio" name="sendType2" class="inp-radio" value="scheduled" disabled>예약발송</label>
                      </div>
                      <div class="area-datepicker is-disabled">
                        <!-- DatePicker -->
                        <div class="wrap-datepicker">
                          <div class="datePicker">
                            <div class="tui-datepicker-input tui-datetime-input tui-has-focus">
                              <input type="text" id="startpicker-inp3" aria-label="Date-Time" disabled>
                              <div id="startpicker-div3" class="datepicker-div"></div>
                            </div>
                          </div>
                        </div>
                        <div class="wrap-datepicker is-timepicker">
                          <select class="inp-select is-sm" disabled>
                            <option value="">시</option>
                          </select>
                          <select class="inp-select is-sm" disabled>
                            <option value="">분</option>
                          </select>
                        </div>
                        <!-- //DatePicker -->
                      </div>
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt>알림 종류<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="form-radio">
                      <label><input type="radio" name="notificationType2" class="inp-radio" value="공지" checked disabled>공지</label>
                      <label><input type="radio" name="notificationType2" class="inp-radio" value="광고(마케팅)" disabled>광고(마케팅)</label>
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt><label for="inpMemo" class="lb-inp">관리자 메모</label></dt>
                  <dd><input type="text" id="inpMemo" class="inp-base" placeholder="관리자 메모" disabled></dd>
                </dl>
                <dl>
                  <dt>디바이스<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="form-radio">
                      <label><input type="radio" name="deviceType" class="inp-radio" checked disabled>전체</label>
                      <label><input type="radio" name="deviceType" class="inp-radio" disabled>AOS</label>
                      <label><input type="radio" name="deviceType" class="inp-radio" disabled>IOS</label>
                    </div>
                  </dd>
                </dl>
                <dl class="align-start">
                  <dt>대상자<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="form-radio">
                      <label><input type="radio" name="targetType" class="inp-radio" value="all" checked disabled>회원전체</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="target" disabled>특정타겟</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="file" disabled>파일등록</label>
                    </div>
                    <!-- CASE: 특정타겟 선택시 노출 -->
                    <div class="form-checkbox form-case" style="display: none;">
                      <label><input type="checkbox" class="inp-checkbox">10대</label>
                      <label><input type="checkbox" class="inp-checkbox">20대</label>
                      <label><input type="checkbox" class="inp-checkbox">30대</label>
                      <label><input type="checkbox" class="inp-checkbox">40대</label>
                      <label><input type="checkbox" class="inp-checkbox">50대</label>
                      <label><input type="checkbox" class="inp-checkbox">60대 이상</label>
                    </div>
                    <!-- CASE: 파일등록 선택시 노출 -->
                    <div class="form-file form-case" style="display: none;">
                      <input type="text" id="inpFileUpload" class="inp-base inp-fileupload" placeholder="엑셀양식 업로드" readonly>
                      <button type="button" class="btn btn-fileupload" id="btnFileUpload">파일 등록</button>
                      <input type="file" id="fileInput" class="hidden" accept=".xls,.xlsx">
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt><label for="inpSubject2" class="lb-inp">제목<em class="text-red-1">*</em></label></dt>
                  <dd><input type="text" id="inpSubject2" class="inp-base" placeholder="제목" value="챌린지 2배!" disabled></dd>
                </dl>
                <dl class="align-start">
                  <dt>이미지<em class="text-red-1">*</em></dt>
                  <dd>
                    <p class="img-text">
                      권장크기 : 000PX X 000PX<br>
                      00MB 이하의 JPG, JPEG, PNG, 형식의 이미지만 등록이 가능합니다.
                    </p>
                    <div class="upload-thumb">
                      <button id="registerPhotoBtn" class="btn-upload disabled">
                        <span class="ico-add">+</span>
                        <span class="length-txt" style="display: block;"><em class="current">1</em>/1</span>
                      </button>
                      <div id="thumbnailContainer" class="thumbnail-container"></div>
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt><label for="inpMessage2" class="lb-inp">메시지<em class="text-red-1">*</em></label></dt>
                  <dd>
                    <!-- 공지 메시지 필드 -->
                    <div class="message-notice">
                      <input type="text" class="inp-base" placeholder="메시지" value="지금 참여하면 챌린지 보상 2배" disabled>
                    </div>
                    
                    <!-- 광고(마케팅) 메시지 필드 -->
                    <div class="message-ad" style="display: none;">
                      <input type="text" class="inp-base inp-ad" placeholder="(광고)메시지" disabled>
                    </div>
                  </dd>
                </dl>
                
                <dl>
                  <dt><label for="inpUrl2" class="lb-inp">알림 연결 URL<em class="text-red-1">*</em></label></dt>
                  <dd>
                    <div class="wrap-formbox">
                      <select id="select2" class="inp-select" disabled>
                        <option value="" selected>내부</option>
                        <option value="">기타</option>
                      </select>
                      <input type="text" id="inpUrl2" class="inp-base" placeholder="URL 또는 코드를 입력해주세요." value="0000000000000" disabled>
                    </div>
                  </dd>
                </dl>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn is-grays-1 is-footer">닫기</button>
        </div>
      </div>
    </div>

    <!-- 푸시 수정 -->
    <div id="Bo_MkPu_001_P3" class="modal push-modal" data-modal="target">
      <div class="modal-dimmed"></div>
      <div class="modal-inner" style="width: 654px;">
        <div class="modal-header">
          <button class="modal-close" data-modal="close"><span class="hidden">닫기</span></button>
          <strong class="modal-title">푸시 수정</strong>
        </div>
        <div class="modal-content has-scrollbar">
          <div class="area-scroll">
            <div class="scroll-content">
              <div class="tbl-dl">
                <dl>
                  <dt>발송 종류<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="wrap-formbox">
                      <div class="form-radio">
                        <label><input type="radio" name="sendType3" class="inp-radio" value="immediate" checked>즉시발송</label>
                        <label><input type="radio" name="sendType3" class="inp-radio" value="scheduled">예약발송</label>
                      </div>
                      <div class="area-datepicker">
                        <!-- DatePicker -->
                        <div class="wrap-datepicker">
                          <div class="datePicker">
                            <div class="tui-datepicker-input tui-datetime-input tui-has-focus">
                              <input id="startpicker-inp4" type="text" aria-label="Date-Time">
                              <div id="startpicker-div4" class="datepicker-div"></div>
                            </div>
                          </div>
                        </div>
                        <div class="wrap-datepicker is-timepicker">
                          <select class="inp-select is-sm">
                            <option value="">시</option>
                          </select>
                          <select class="inp-select is-sm">
                            <option value="">분</option>
                          </select>
                        </div>
                        <!-- //DatePicker -->
                      </div>
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt>알림 종류<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="form-radio">
                      <label><input type="radio" name="notificationType3" class="inp-radio" value="공지" checked>공지</label>
                      <label><input type="radio" name="notificationType3" class="inp-radio" value="광고(마케팅)">광고(마케팅)</label>
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt><label for="inpMemo" class="lb-inp">관리자 메모</label></dt>
                  <dd><input type="text" id="inpMemo" class="inp-base" placeholder="관리자 메모"></dd>
                </dl>
                <dl>
                  <dt>디바이스<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="form-radio">
                      <label><input type="radio" name="deviceType" class="inp-radio" checked>전체</label>
                      <label><input type="radio" name="deviceType" class="inp-radio">AOS</label>
                      <label><input type="radio" name="deviceType" class="inp-radio">IOS</label>
                    </div>
                  </dd>
                </dl>
                <dl class="align-start">
                  <dt>대상자<em class="text-red-1">*</em></dt>
                  <dd>
                    <div class="form-radio">
                      <label><input type="radio" name="targetType" class="inp-radio" value="all" checked>회원전체</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="general">일반회원</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="social">소셜회원</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="target">특정타겟</label>
                      <label><input type="radio" name="targetType" class="inp-radio" value="file">파일등록</label>
                    </div>
                    <!-- CASE: 특정타겟 선택시 노출 -->
                    <div class="form-checkbox form-case" style="display: none;">
                      <label><input type="checkbox" class="inp-checkbox">10대</label>
                      <label><input type="checkbox" class="inp-checkbox">20대</label>
                      <label><input type="checkbox" class="inp-checkbox">30대</label>
                      <label><input type="checkbox" class="inp-checkbox">40대</label>
                      <label><input type="checkbox" class="inp-checkbox">50대</label>
                      <label><input type="checkbox" class="inp-checkbox">60대 이상</label>
                    </div>
                    <!-- CASE: 파일등록 선택시 노출 -->
                    <div class="form-file form-case" style="display: none;">
                      <input type="text" id="inpFileUpload" class="inp-base inp-fileupload" placeholder="엑셀양식 업로드" readonly>
                      <button type="button" class="btn btn-fileupload" id="btnFileUpload">파일 등록</button>
                      <input type="file" id="fileInput" class="hidden" accept=".xls,.xlsx">
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt><label for="inpSubject" class="lb-inp">제목<em class="text-red-1">*</em></label></dt>
                  <dd><input type="text" id="inpSubject" class="inp-base" placeholder="제목"></dd>
                </dl>
                <dl class="align-start">
                  <dt>이미지<em class="text-red-1">*</em></dt>
                  <dd>
                    <p class="img-text">
                      권장크기 : 000PX X 000PX<br>
                      00MB 이하의 JPG, JPEG, PNG, 형식의 이미지만 등록이 가능합니다.
                    </p>
                    <div class="upload-thumb">
                      <button id="registerPhotoBtn" class="btn-upload">
                        <span class="ico-add">+</span>
                        <span class="length-txt"><em class="current">1</em>/1</span>
                      </button>
                      <div id="thumbnailContainer" class="thumbnail-container"></div>
                    </div>
                  </dd>
                </dl>
                <dl>
                  <dt><label for="inpMessage" class="lb-inp">메시지<em class="text-red-1">*</em></label></dt>
                  <dd>
                    <!-- 공지 메시지 필드 -->
                    <div class="message-notice">
                      <input type="text" class="inp-base" placeholder="메시지">
                    </div>
                    
                    <!-- 광고(마케팅) 메시지 필드 -->
                    <div class="message-ad" style="display: none;">
                      <input type="text" class="inp-base inp-ad" placeholder="(광고)메시지">
                    </div>
                  </dd>
                </dl>
                
                <dl>
                  <dt><label for="inpUrl3" class="lb-inp">알림 연결 URL<em class="text-red-1">*</em></label></dt>
                  <dd>
                    <div class="wrap-formbox">
                      <select id="select1" class="inp-select">
                        <option value="" selected>내부</option>
                        <option value="">기타</option>
                      </select>
                      <input type="text" id="inpUrl3" class="inp-base" placeholder="URL 또는 코드를 입력해주세요.">
                    </div>
                  </dd>
                </dl>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn is-secondary-1 is-footer">닫기</button>
          <button type="button" class="btn is-primary is-footer">수정</button>
          <button type="button" id="btnTestSend" class="btn is-grays-1 is-footer" disabled onclick="customAlert.confirm('안내', '입력하신 내용으로 테스트 발송 하시겠습니까?', trueFn, falseFn);">테스트 발송</button>
        </div>
      </div>
    </div>

    <div id="alert" class="modal" data-modal="alert">
      <div class="modal-dimmed"></div>
      <div class="modal-inner has-alert">
        <div class="modal-header">
          <button class="modal-close" data-modal="close"><span class="hidden">닫기</span></button>
          <strong class="modal-title" id="alert__tit">$알럿 타이틀$</strong>
        </div>
        <div class="modal-content">
          <p class="alert-msg">$알럿 메시지$</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn is-footer is-false">아니오</button>
          <button type="button" class="btn is-footer is-true">네</button>
        </div>
      </div>
    </div>
    <!-- //modal -->
  </div>
  <!-- //base-wrap -->

  <!-- js library -->
  <script src="../../resources/js/jquery/jquery.min.js"></script>
  <script src="../../resources/js/lib/xlsx-full.min.js"></script> <!-- grid table -->
  <script src="../../resources/js/lib/tui-pagination.min.js"></script> <!-- grid table -->
  <script src="../../resources/js/lib/tui-date-picker.min.js"></script>
  <script src="../../resources/js/lib/tui-grid.min.js"></script> <!-- grid table -->
  <!-- js base -->
  <script src="../../resources/js/common/ui.common.js"></script>
  <script src="../../resources/js/common/template.js"></script>

  <!-- page script -->
  <script>
    // lnb active
    window.addEventListener('load', function () {
      setTimeout(function () {
        lnbActive(3, 2, null); // 1epth, 2epth, 3dpeth
      }, 50);
    });

    document.addEventListener("DOMContentLoaded", function() {
      // DatePicker 초기화
      const today = new Date();
      const startpicker = new tui.DatePicker('#startpicker-div1', {
        date: today,
        language: 'ko',
        input: {
          element: '#startpicker-inp1',
          format: 'yyyy-MM-dd'
        }
      });
      const endpicker = new tui.DatePicker('#endpicker-div1', {
        date: today,
        language: 'ko',
        input: {
          element: '#endpicker-inp1',
          format: 'yyyy-MM-dd'
        }
      });
      const startpicker2 = new tui.DatePicker('#startpicker-div2', {
        date: today,
        language: 'ko',
        input: {
          element: '#startpicker-inp2',
          format: 'yyyy-MM-dd'
        }
      });
      const startpicker3 = new tui.DatePicker('#startpicker-div3', {
        date: today,
        language: 'ko',
        input: {
          element: '#startpicker-inp3',
          format: 'yyyy-MM-dd'
        }
      });
      const startpicker4 = new tui.DatePicker('#startpicker-div4', {
        date: today,
        language: 'ko',
        input: {
          element: '#startpicker-inp4',
          format: 'yyyy-MM-dd'
        }
      });

      // DatePicker 옵션 버튼 클릭 이벤트
      document.querySelector('.btn-options').addEventListener('click', function(event) {
        const target = event.target;
        if (!target.classList.contains('btn')) return;

        let startDate, endDate = today;
        switch (target.textContent.trim()) {
          case '전체':
            break;
          case '오늘':
            startDate = endDate = today;
            break;
          case '1주일':
            startDate = new Date(today.getFullYear(), today.getMonth(), today.getDate() - 7);
            break;
          case '1개월':
            startDate = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());
            break;
          case '3개월':
            startDate = new Date(today.getFullYear(), today.getMonth() - 3, today.getDate());
            break;
          case '6개월':
            startDate = new Date(today.getFullYear(), today.getMonth() - 6, today.getDate());
            break;
        }

        startpicker.setDate(startDate);
        endpicker.setDate(endDate);
      });

      // 이미지 업로드 초기화
      const imageUploadConfig = {
        registerBtnId: 'registerPhotoBtn',
        thumbnailContainerId: 'thumbnailContainer',
        maxPhotos: 1,
        validExtensions: ['jpg', 'jpeg', 'png'],
        maxFileSizeMB: 100
      };
      initPhotoRegistration(imageUploadConfig);

      // 푸시 등록 모달 초기화
      initializePushModal('#Bo_MkPu_001_P1');
    });

    // 푸시 모달 초기화 함수
    function initializePushModal(modalSelector) {
      document.querySelectorAll(modalSelector).forEach(modal => {
        // 발송 종류 라디오 버튼
        const sendTypeRadios = modal.querySelectorAll("input[name='sendType']");
        const areaDatepicker = modal.querySelector(".area-datepicker");
        const timePickers = areaDatepicker.querySelectorAll(".is-timepicker select");
        const datePickerInput = areaDatepicker.querySelector(".tui-datepicker-input input");

        // 메시지 input 요소
        const noticeMessageField = modal.querySelector(".message-notice");
        const adMessageField = modal.querySelector(".message-ad");
        const adMessageInput = modal.querySelector(".inp-ad");

        // 파일 업로드
        const fileInput = modal.querySelector("#fileInput");
        const inpFileUpload = modal.querySelector(".inp-fileupload");
        const btnFileUpload = modal.querySelector(".btn-fileupload");

        btnFileUpload.addEventListener("click", function() {
          fileInput.click();
        });

        fileInput.addEventListener("change", function(event) {
          const file = event.target.files[0];
          if (file) {
            const fileName = file.name;
            const fileExtension = fileName.split('.').pop().toLowerCase();
            const validExtensions = ['xls', 'xlsx'];

            if (!validExtensions.includes(fileExtension)) {
              alert('파일 양식을 확인해 주세요.');
              inpFileUpload.value = "";
              fileInput.value = "";
            } else {
              inpFileUpload.value = fileName;
            }
          }
        });

        // 알림 종류 라디오 버튼
        const notificationTypeRadios = modal.querySelectorAll("input[name='notificationType']");
        notificationTypeRadios.forEach(function(elem) {
          elem.addEventListener("change", function(event) {
            if (event.target.checked) {
              if (event.target.value === "광고(마케팅)") {
                noticeMessageField.style.display = "none";
                adMessageField.style.display = "block";

                // input 이벤트를 통해 prefix 추가
                adMessageInput.addEventListener("input", handleAdPrefix);

              } else if (event.target.value === "공지") {
                adMessageField.style.display = "none";
                noticeMessageField.style.display = "block";

                // 광고 prefix 추가 이벤트 제거
                adMessageInput.removeEventListener("input", handleAdPrefix);
              }
            }
          });
        });

        // (광고) prefix 추가
        function handleAdPrefix(event) {
          const inputValue = event.target.value;
          if (!inputValue.startsWith("(광고)")) {
            event.target.value = "(광고)" + inputValue.replace(/^\(광고\)/, '');
          }
        }

        // 발송 종류 변경에 따른 date/timepicker 활성화/비활성화
        sendTypeRadios.forEach(function(elem) {
          elem.addEventListener("change", function(event) {
            if (event.target.value === "scheduled") {
              areaDatepicker.classList.remove("is-disabled");
              datePickerInput.disabled = false;
              timePickers.forEach(select => select.disabled = false);
            } else {
              areaDatepicker.classList.add("is-disabled");
              datePickerInput.disabled = true;
              timePickers.forEach(select => select.disabled = true);
            }
          });
        });

        // 대상자 라디오 버튼과 관련된 엘리먼트
        const targetTypeRadios = modal.querySelectorAll("input[name='targetType']");
        const formCheckbox = modal.querySelector(".form-checkbox");
        const formFile = modal.querySelector(".form-file");
        const testSendButton = modal.querySelector(".btn.is-grays-1.is-footer"); // 테스트 전송 버튼

        // 하위 옵션 초기화 함수
        function resetTargetOptions() {
          formCheckbox.querySelectorAll("input[type='checkbox']").forEach(checkbox => checkbox.checked = false);
          inpFileUpload.value = "";
        }

        // 대상자 선택에 따른 폼 영역 및 테스트 전송 버튼 상태 관리
        targetTypeRadios.forEach(function(elem) {
          elem.addEventListener("change", function(event) {
            formCheckbox.style.display = "none";
            formFile.style.display = "none";
            resetTargetOptions(); // 하위 옵션 초기화

            if (event.target.value === "target") {
              formCheckbox.style.display = "flex";
              testSendButton.disabled = true; 
            } else if (event.target.value === "file") {
              formFile.style.display = "flex";
              testSendButton.disabled = false;  
            } else {
              testSendButton.disabled = true;
            }
          });
        });

        // 페이지 로드 시 초기 설정 - 발송 종류 및 대상자 종류에 따른 초기 상태 설정
        const initialSendType = modal.querySelector("input[name='sendType']:checked");
        const initialTargetType = modal.querySelector("input[name='targetType']:checked");
        
        if (initialSendType && initialSendType.value === "immediate") {
          areaDatepicker.classList.add("is-disabled");
          datePickerInput.disabled = true;
          timePickers.forEach(select => select.disabled = true);
        }

        if (initialTargetType && initialTargetType.value === "file") {
          formFile.style.display = "flex"; // 파일 등록이 이미 선택되어 있으면 노출
          testSendButton.disabled = false; // 파일 등록이 이미 선택되어 있으면 활성화
        } else {
          testSendButton.disabled = true; // 그 외의 경우 비활성화
        }
      });
    }
  </script>
</body>
</html>